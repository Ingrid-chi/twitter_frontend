(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03a03d6a"],{"114a":function(t,e,o){"use strict";o.r(e);o("caad");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"followPanel-wrapper"},[e("div",{staticClass:"followPanel"},[e("NavBar"),e("div",{staticClass:"followPanel__container"},[e("div",{staticClass:"followPanel__container__line-left"}),e("div",{staticClass:"followPanel__container__content"},[e("div",{staticClass:"followPanel-title"},[e("button",{staticClass:"followPanel-title__icon",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.goBack.apply(null,arguments)}}},[e("img",{attrs:{src:o("336c"),alt:""}})]),e("div",{staticClass:"followPanel-title__detail"},[e("h5",{staticClass:"followPanel-title__detail__name"},[t._v(t._s(t.user.name))]),e("div",{staticClass:"followPanel-title__detail__tweetsTotal secondary-bold"},[t._v(" "+t._s(t.user.TweetsCount+"推文")+" ")])])]),e("div",{staticClass:"line-bottom"}),e("div",{staticClass:"followPanel-tag"},t._l(t.items,(function(o){return e("router-link",{key:o.id,attrs:{to:`/${t.userId}/${o.path}`}},[e("button",{class:["followPanel-tag__btn primary-bold",{checked:t.currentPage.includes(o.path)}]},[t._v(" "+t._s(o.title)+" ")])])})),1),e("div",{staticClass:"line-bottom"}),t.currentPage.includes("followers")?e("CurrentUserFollowerList",{attrs:{userId:t.userId}}):e("CurrentUserFollowingList",{attrs:{userId:t.user.id}}),e("div",{staticClass:"followPanel__container__line-right"})],1),e("PopularUser")],1)],1)])},l=[],n=o("d000"),i=o("0bf5"),a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"followersList"},t._l(t.followers,(function(o){return e("div",{key:o.id,staticClass:"followersList-wrapper"},[e("div",{staticClass:"followersList-content"},[e("div",{staticClass:"followersList-content__avatar"},[e("img",{attrs:{src:o.avatar,alt:""}})]),e("div",{staticClass:"followersList-content__detail"},[e("p",{staticClass:"followersList-content__detail__name primary-bold"},[t._v(" "+t._s(o.name)+" ")]),e("p",{staticClass:"followersList-content__detail__description"},[t._v(" "+t._s(o.introduction)+" ")])]),o.isFollowing?e("button",{staticClass:"followersList-content__btn-checked",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteFollowing(o.followerId)}}},[t._v(" 正在跟隨 ")]):e("button",{staticClass:"followersList-content__btn-default",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFollowing(o.followerId)}}},[t._v(" 跟隨 ")])]),e("div",{staticClass:"line-bottom"})])})),0)},r=[],c=o("2f62"),u=o("4cce"),d=o("2fa3"),f={name:"CurrentUserFollowersList",data(){return{followers:[]}},props:{userId:{type:Number,require:!0}},created(){this.fetchFollowers()},methods:{async fetchFollowers(){try{const t=await u["a"].getUserFollowers(this.userId),{data:e}=t;this.followers=e}catch(t){const{response:e}=t;e.data.message&&d["a"].fire({icon:"error",title:e.data.message})}},async addFollowing(t){try{await u["a"].addFollowing({id:t}),this.followers=this.followers.map(e=>e.followerId===t?{...e,isFollowing:!0}:e),this.$store.commit("setFollowUsers",this.followers)}catch(e){const{response:t}=e;t.data.message&&d["a"].fire({icon:"error",title:t.data.message})}},async deleteFollowing(t){try{await u["a"].deleteFollowing(t),this.followers=this.followers.map(e=>e.followerId===t?{...e,isFollowing:!1}:e),this.$store.commit("setFollowUsers",this.followers)}catch(e){const{response:t}=e;t&&d["a"].fire({icon:"error",title:t.data.message})}}},computed:{...Object(c["c"])(["followUsers"])},watch:{followUsers:function(){this.fetchFollowers()}}},w=f,_=(o("9ca4"),o("2877")),p=Object(_["a"])(w,a,r,!1,null,"5cf51eba",null),g=p.exports,h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"followingList"},t._l(t.followings,(function(o){return e("div",{key:o.id,staticClass:"followingList-wrapper"},[e("div",{staticClass:"followingList-content"},[e("div",{staticClass:"followingList-content__avatar"},[e("img",{attrs:{src:o.avatar,alt:""}})]),e("div",{staticClass:"followingList-content__detail"},[e("p",{staticClass:"followingList-content__detail__name primary-bold"},[t._v(" "+t._s(o.name)+" ")]),e("p",{staticClass:"followingList-content__detail__description"},[t._v(" "+t._s(o.introduction)+" ")])]),o.isFollowing?e("button",{staticClass:"followingList-content__btn-checked",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteFollowing(o.followingId)}}},[t._v(" 正在跟隨 ")]):e("button",{staticClass:"followingList-content__btn-default",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFollowing(o.followingId)}}},[t._v(" 跟隨 ")])]),e("div",{staticClass:"line-bottom"})])})),0)},v=[],m={name:"CurrentUserFollowingList",data(){return{followings:[]}},props:{userId:{type:Number,require:!0}},created(){this.fetchFollowings()},methods:{async fetchFollowings(){try{const t=await u["a"].getUserFollowings(this.userId),{data:e}=t;this.followings=e}catch(t){const{response:e}=t;e.data.message&&d["a"].fire({icon:"error",title:e.data.message})}},async addFollowing(t){try{await u["a"].addFollowing({id:t}),this.followings=this.followings.map(e=>e.followingId===t?{...e,isFollowing:!0}:e),this.$store.commit("setFollowUsers",this.followings)}catch(e){const{response:t}=e;t.data.message&&d["a"].fire({icon:"error",title:t.data.message})}},async deleteFollowing(t){try{await u["a"].deleteFollowing(t),this.followings=this.followings.map(e=>e.followingId===t?{...e,isFollowing:!1}:e),this.$store.commit("setFollowUsers",this.followings)}catch(e){const{response:t}=e;t&&d["a"].fire({icon:"error",title:t.data.message})}}},computed:{...Object(c["c"])(["followUsers"])},watch:{followUsers:function(){this.fetchFollowings()}}},b=m,C=(o("b203"),Object(_["a"])(b,h,v,!1,null,"74b92a93",null)),F=C.exports,y=o("95ab"),P={name:"CurrentUserFollowPanel",components:{NavBar:n["a"],PopularUser:i["a"],CurrentUserFollowerList:g,CurrentUserFollowingList:F},data(){return{items:y["c"],currentPage:"",user:{},userId:""}},async created(){this.currentPage=this.$route.path;const{account:t}=this.$route.params;this.userId=t;const e=await u["a"].getUser(t),{user:o}=e;this.user=o},methods:{goBack(){this.$router.back()}},computed:{...Object(c["c"])(["currentUser"])},watch:{"$route.path":function(t){this.currentPage=t}}},L=P,U=(o("5c15"),Object(_["a"])(L,s,l,!1,null,"f29bb446",null));e["default"]=U.exports},"1be4":function(t,e,o){var s=o("d066");t.exports=s("document","documentElement")},"37e8":function(t,e,o){var s=o("83ab"),l=o("aed9"),n=o("9bf2"),i=o("825a"),a=o("fc6a"),r=o("df75");e.f=s&&!l?Object.defineProperties:function(t,e){i(t);var o,s=a(e),l=r(e),c=l.length,u=0;while(c>u)n.f(t,o=l[u++],s[o]);return t}},"44d2":function(t,e,o){var s=o("b622"),l=o("7c73"),n=o("9bf2").f,i=s("unscopables"),a=Array.prototype;void 0==a[i]&&n(a,i,{configurable:!0,value:l(null)}),t.exports=function(t){a[i][t]=!0}},"5c15":function(t,e,o){"use strict";o("e6ff")},"7c73":function(t,e,o){var s,l=o("825a"),n=o("37e8"),i=o("7839"),a=o("d012"),r=o("1be4"),c=o("cc12"),u=o("f772"),d=">",f="<",w="prototype",_="script",p=u("IE_PROTO"),g=function(){},h=function(t){return f+_+d+t+f+"/"+_+d},v=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){var t,e=c("iframe"),o="java"+_+":";return e.style.display="none",r.appendChild(e),e.src=String(o),t=e.contentWindow.document,t.open(),t.write(h("document.F=Object")),t.close(),t.F},b=function(){try{s=new ActiveXObject("htmlfile")}catch(e){}b="undefined"!=typeof document?document.domain&&s?v(s):m():v(s);var t=i.length;while(t--)delete b[w][i[t]];return b()};a[p]=!0,t.exports=Object.create||function(t,e){var o;return null!==t?(g[w]=l(t),o=new g,g[w]=null,o[p]=t):o=b(),void 0===e?o:n.f(o,e)}},"9ba3":function(t,e,o){},"9ca4":function(t,e,o){"use strict";o("9ba3")},b203:function(t,e,o){"use strict";o("e233")},caad:function(t,e,o){"use strict";var s=o("23e7"),l=o("4d64").includes,n=o("d039"),i=o("44d2"),a=n((function(){return!Array(1).includes()}));s({target:"Array",proto:!0,forced:a},{includes:function(t){return l(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},df75:function(t,e,o){var s=o("ca84"),l=o("7839");t.exports=Object.keys||function(t){return s(t,l)}},e233:function(t,e,o){},e6ff:function(t,e,o){}}]);
//# sourceMappingURL=chunk-03a03d6a.18ffc8a4.js.map